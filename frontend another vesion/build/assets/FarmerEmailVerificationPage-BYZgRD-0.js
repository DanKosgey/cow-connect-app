import{e as N,r as a,u as C,j as e,L as w}from"./index-C6fZJ48e.js";import{B as V}from"./button-CjSaidot.js";import{C as E,a as S,b as I,c as L,d as k}from"./card-D80GW863.js";import{I as D}from"./input-ZoKW3yZy.js";import{L as M}from"./label-Cb1HMnpx.js";import{A as P,a as R}from"./alert-Civ_HrAB.js";import{M as A}from"./mail-C8SoeKpH.js";import{C as B}from"./circle-check-big-CorUa3eH.js";import{C as T}from"./circle-alert-B7BDXU-i.js";import{C as $}from"./clock-B7WW80Vs.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=N("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),U=()=>{const[i,l]=a.useState(["","","","","",""]),[n,x]=a.useState(300),[d,f]=a.useState(!1),[m,u]=a.useState(!1),[h,c]=a.useState(""),g=C();a.useEffect(()=>{if(n<=0)return;const t=setInterval(()=>{x(s=>s-1)},1e3);return()=>clearInterval(t)},[n]);const p=t=>{const s=Math.floor(t/60),r=t%60;return`${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},j=(t,s)=>{if(s.length>1)return;const r=[...i];if(r[t]=s,l(r),s&&t<5){const o=document.getElementById(`code-${t+1}`);o&&o.focus()}},y=t=>{t.preventDefault();const r=t.clipboardData.getData("text").split("").slice(0,6);r.length===6&&r.every(o=>/\d/.test(o))&&l(r)},b=async()=>{if(i.join("").length!==6){c("Please enter a complete 6-digit code");return}f(!0),c("");try{await new Promise(s=>setTimeout(s,1500)),u(!0),setTimeout(()=>{g("/farmer/dashboard")},2e3)}catch{c("Invalid verification code. Please try again.")}finally{f(!1)}},v=()=>{x(300),l(["","","","","",""]),c(""),alert("Verification code has been resent to your email.")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:e.jsxs(E,{className:"w-full max-w-md",children:[e.jsxs(S,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(A,{className:"h-8 w-8 text-green-600"})}),e.jsx(I,{className:"text-2xl font-bold text-gray-900",children:m?"Email Verified!":"Verify Your Email"}),e.jsx(L,{className:"text-gray-600",children:m?"Your email has been successfully verified.":"We've sent a 6-digit code to your email address."})]}),e.jsx(k,{children:m?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(B,{className:"h-8 w-8 text-green-600"})}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting you to your dashboard..."}),e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"})]}):e.jsxs(e.Fragment,{children:[h&&e.jsxs(P,{variant:"destructive",className:"mb-6",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx(R,{children:h})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(M,{className:"text-center block mb-4",children:"Enter the 6-digit code sent to your email"}),e.jsx("div",{className:"flex justify-center space-x-3",children:i.map((t,s)=>e.jsx(D,{id:`code-${s}`,type:"text",inputMode:"numeric",maxLength:1,value:t,onChange:r=>j(s,r.target.value),onPaste:y,className:"w-12 h-12 text-center text-xl font-bold",disabled:d},s))})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx($,{className:"h-4 w-4 inline mr-1"}),"Code expires in: ",p(n)]}),e.jsx(V,{onClick:b,disabled:d||i.some(t=>t===""),className:"w-full bg-green-600 hover:bg-green-700",children:d?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Verifying..."]}):"Verify Email"}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Didn't receive the code?"," ",e.jsx("button",{onClick:v,disabled:n>240,className:"text-green-600 hover:text-green-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Resend Code"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs(w,{to:"/farmer/login",className:"flex items-center justify-center text-sm text-green-600 hover:text-green-700",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Back to Login"]})})]})]})})]})})};export{U as default};
