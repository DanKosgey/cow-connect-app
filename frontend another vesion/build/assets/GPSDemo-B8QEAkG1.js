import{r as N,j as e}from"./index-C6fZJ48e.js";import{C as r,a as t,b as n,c,d}from"./card-D80GW863.js";import{B as x}from"./button-CjSaidot.js";import{u as f,g as b}from"./gpsValidation-lYsOLY3Q.js";import{G as y}from"./GPSStatusIndicator-DMqfqeQN.js";import"./map-pin-B94T8gzc.js";import"./circle-check-big-CorUa3eH.js";import"./triangle-alert-DiNmet34.js";import"./circle-x-rQriW1OR.js";const L=()=>{var m;const{location:s,error:i,loading:l,getLocation:a,permissionState:h}=f({enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4}),[o,u]=N.useState(null),g=()=>!s||s.accuracy===null?"acquiring":s.accuracy<5?"excellent":s.accuracy<15?"good":"poor",j=()=>{if(s){const p=b(s.latitude,s.longitude);u(p)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"GPS Integration Demo"}),e.jsx("p",{className:"text-gray-600",children:"Demonstration of geolocation integration for dairy collection system"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsx(n,{children:"Current Location Status"}),e.jsx(c,{children:"Real-time GPS location information"})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(x,{onClick:a,disabled:l,className:"w-full",children:l?"Acquiring Location...":"Refresh Location"})}),e.jsx(y,{status:h==="denied"?"denied":i?"error":s?g():"acquiring",accuracy:s==null?void 0:s.accuracy,latitude:s==null?void 0:s.latitude,longitude:s==null?void 0:s.longitude,onRefresh:a,onRequestPermission:a}),s&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Location Details:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Latitude:"}),e.jsx("p",{className:"font-mono",children:s.latitude.toFixed(6)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Longitude:"}),e.jsx("p",{className:"font-mono",children:s.longitude.toFixed(6)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Accuracy:"}),e.jsxs("p",{children:[(m=s.accuracy)==null?void 0:m.toFixed(1)," meters"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timestamp:"}),e.jsx("p",{children:s.timestamp?new Date(s.timestamp).toLocaleTimeString():"N/A"})]})]}),e.jsx(x,{onClick:j,className:"w-full mt-4",disabled:!s,children:"Generate Validation Code"})]}),i&&e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Error Details:"}),e.jsx("p",{className:"text-red-600",children:i.message}),e.jsxs("p",{className:"text-xs text-red-500 mt-2",children:["Error Code: ",i.code," (",["Unknown","Permission denied","Position unavailable","Timeout"][i.code],")"]})]})]})]}),e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsx(n,{children:"Validation Code Generation"}),e.jsx(c,{children:"GPS-based validation codes for collection verification"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[o?e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Generated Validation Code"}),e.jsx("p",{className:"font-mono text-lg bg-white p-3 rounded border",children:o}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This code includes GPS coordinates for enhanced verification"})]}):e.jsx("div",{className:"bg-gray-100 p-8 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-600",children:'Click "Generate Validation Code" after acquiring location to create a GPS-based validation code'})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"How it works:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("li",{children:"• Validation codes include GPS coordinates for verification"}),e.jsx("li",{children:"• High accuracy location data is required for dairy collections"}),e.jsx("li",{children:"• Codes are unique to each location and timestamp"}),e.jsx("li",{children:"• Backend can verify location accuracy using these codes"})]})]})]})})]})]}),e.jsxs(r,{className:"mt-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:"Technical Implementation"}),e.jsx(c,{children:"Details about the GPS integration approach"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"High Accuracy"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Uses enableHighAccuracy: true for precise location data required in dairy collections"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Continuous Updates"}),e.jsx("p",{className:"text-sm text-green-600",children:"Implements watchPosition for real-time location tracking during collection process"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Error Handling"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Comprehensive error handling for permission denial, timeout, and unavailable positions"})]})]})})]})]})})};export{L as default};
